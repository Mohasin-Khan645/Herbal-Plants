<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Community Hub â€¢ Herbal Guardian</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <link href="HerbalGuardian/css/style.css" rel="stylesheet">
  <link href="HerbalGuardian/css/responsive.css" rel="stylesheet">
  <style>
    #map { width: 100%; height: 380px; border-radius: 8px; }
    .post { border: 1px solid #eee; border-radius: 8px; padding: 12px; margin-bottom: 12px; background: #fff; }
    .tag { display:inline-block; padding:2px 8px; border-radius: 999px; background:#e8f5e9; color:#1b5e20; font-size:12px; }
  </style>
  <link rel="manifest" href="HerbalGuardian/manifest.json">
  <meta name="theme-color" content="#2e7d32">
  <link rel="icon" href="HerbalGuardian/images/logo.png">
  <script defer src="js/community.js"></script>
</head>
<body>
  <header class="navbar navbar-expand-lg navbar-dark bg-gradient-green sticky-top">
    <div class="container">
      <a class="navbar-brand" href="index.html">Herbal Guardian</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
        <span class="navbar-toggler-icon"></span>
      </button>
      <nav id="navMain" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="plants.html">Plant Library</a></li>
          <li class="nav-item"><a class="nav-link" href="disease.html">Disease Identifier</a></li>
          <li class="nav-item"><a class="nav-link" href="chatbot.html">AI Chatbot</a></li>
          <li class="nav-item"><a class="nav-link active" href="community.html">Community</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="py-4">
    <div class="container">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">Community Hub</h2>
        <div class="d-flex gap-2">
          <button id="profileBtn" class="btn btn-outline-success btn-sm">Profile</button>
          <button id="enableNotifs" class="btn btn-outline-secondary btn-sm">Enable Notifications</button>
        </div>
      </div>

      <ul class="nav nav-tabs" id="commTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#mapTab" type="button">Herbal Map</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" data-bs-toggle="tab" data-bs-target="#qaTab" type="button">Q&A</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" data-bs-toggle="tab" data-bs-target="#exchangeTab" type="button">Herb Exchange</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" data-bs-toggle="tab" data-bs-target="#eventsTab" type="button">Events</button>
        </li>
      </ul>

      <div class="tab-content mt-3">
        <!-- Herbal Map -->
        <div class="tab-pane fade show active" id="mapTab">
          <div class="row g-3">
            <div class="col-lg-8">
              <div id="map"></div>
              <div class="small text-muted mt-2">Pin gardens, nurseries, clinics, or adopt spots. Click the map to autofill Lat/Lng.</div>
            </div>
            <div class="col-lg-4">
              <div class="card">
                <div class="card-body">
                  <h5>Add Location</h5>
                  <div class="mb-2">
                    <label class="form-label">Title</label>
                    <input id="locTitle" class="form-control" placeholder="Ex: Green Park Herbal Garden">
                  </div>
                  <div class="mb-2">
                    <label class="form-label">Type</label>
                    <select id="locType" class="form-select">
                      <option>Garden</option>
                      <option>Nursery</option>
                      <option>Clinic</option>
                      <option>Adopt-a-Spot</option>
                    </select>
                  </div>
                  <div class="mb-2">
                    <label class="form-label">Description</label>
                    <textarea id="locDesc" class="form-control" rows="2" placeholder="Hours, access, notes"></textarea>
                  </div>
                  <div class="mb-2">
                    <label class="form-label">Lat, Lng</label>
                    <input id="locLatLng" class="form-control" placeholder="Click map to fill">
                  </div>
                  <button id="addLocationBtn" class="btn btn-success w-100">Add to Map</button>
                </div>
              </div>
              <div class="card mt-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between">
                    <h6 class="mb-0">Impact Counters</h6>
                    <button id="resetImpact" class="btn btn-sm btn-outline-danger">Reset</button>
                  </div>
                  <div class="mt-2 small">
                    <div>Spots Adopted: <span id="countSpots">0</span></div>
                    <div>Volunteers: <span id="countVols">0</span></div>
                    <div>Workshops: <span id="countEvents">0</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Q&A -->
        <div class="tab-pane fade" id="qaTab">
          <div class="row g-3">
            <div class="col-lg-5">
              <div class="card h-100">
                <div class="card-body">
                  <h5>Ask a Question</h5>
                  <div class="mb-2">
                    <label class="form-label">Title</label>
                    <input id="qaTitle" class="form-control" placeholder="Ex: Powdery mildew on basil?">
                  </div>
                  <div class="mb-2">
                    <label class="form-label">Details</label>
                    <textarea id="qaBody" class="form-control" rows="3" placeholder="Describe symptoms, conditions, photos (optional)"></textarea>
                  </div>
                  <button id="qaPost" class="btn btn-success w-100">Post Question</button>
                </div>
              </div>
            </div>
            <div class="col-lg-7">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h5 class="mb-0">Community Q&A</h5>
                <select id="qaSort" class="form-select form-select-sm" style="width:auto">
                  <option value="top">Top</option>
                  <option value="new">Newest</option>
                </select>
              </div>
              <div id="qaList"></div>
            </div>
          </div>
        </div>

        <!-- Exchange -->
        <div class="tab-pane fade" id="exchangeTab">
          <div class="row g-3">
            <div class="col-lg-4">
              <div class="card h-100">
                <div class="card-body">
                  <h5>New Listing</h5>
                  <div class="mb-2">
                    <label class="form-label">Type</label>
                    <select id="exType" class="form-select">
                      <option value="Seeds">Seeds</option>
                      <option value="Cuttings">Cuttings</option>
                      <option value="Saplings">Saplings</option>
                      <option value="Compost">Compost</option>
                    </select>
                  </div>
                  <div class="mb-2">
                    <label class="form-label">Item</label>
                    <input id="exItem" class="form-control" placeholder="Ex: Tulsi seeds">
                  </div>
                  <div class="mb-2">
                    <label class="form-label">Notes</label>
                    <textarea id="exNotes" class="form-control" rows="2" placeholder="Pickup point, timing"></textarea>
                  </div>
                  <button id="exPost" class="btn btn-success w-100">Post Listing</button>
                </div>
              </div>
            </div>
            <div class="col-lg-8">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h5 class="mb-0">Exchange Board</h5>
                <input id="exSearch" class="form-control form-control-sm" style="max-width:220px" placeholder="Search items">
              </div>
              <div id="exList"></div>
            </div>
          </div>
        </div>

        <!-- Events -->
        <div class="tab-pane fade" id="eventsTab">
          <div class="row g-3">
            <div class="col-lg-4">
              <div class="card h-100">
                <div class="card-body">
                  <h5>Create Event</h5>
                  <div class="mb-2">
                    <label class="form-label">Title</label>
                    <input id="evTitle" class="form-control" placeholder="Ex: Herbal Walk at City Park">
                  </div>
                  <div class="mb-2">
                    <label class="form-label">Date & Time</label>
                    <input id="evDate" type="datetime-local" class="form-control">
                  </div>
                  <div class="mb-2">
                    <label class="form-label">Location</label>
                    <input id="evLocation" class="form-control" placeholder="Ex: City Park, Gate 2">
                  </div>
                  <div class="mb-2">
                    <label class="form-label">Details</label>
                    <textarea id="evNotes" class="form-control" rows="2" placeholder="Agenda, what to bring"></textarea>
                  </div>
                  <button id="evPost" class="btn btn-success w-100">Create Event</button>
                </div>
              </div>
            </div>
            <div class="col-lg-8">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h5 class="mb-0">Upcoming Events</h5>
                <select id="evFilter" class="form-select form-select-sm" style="width:auto">
                  <option value="all">All</option>
                  <option value="mine">RSVPâ€™d</option>
                  <option value="future">Future</option>
                </select>
              </div>
              <div id="evList"></div>
            </div>
          </div>
        </div>
      </div>
      <!-- Profile Modal -->
      <div class="modal fade" id="profileModal" tabindex="-1">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Your Profile</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <div class="mb-2">
                <label class="form-label">Display Name</label>
                <input id="profName" class="form-control" placeholder="Your name">
              </div>
              <div class="mb-2">
                <label class="form-label">Interests</label>
                <input id="profInterests" class="form-control" placeholder="e.g., Medicinal, Composting, Seeds">
              </div>
              <div class="mb-2">
                <label class="form-label">Language</label>
                <select id="profLang" class="form-select">
                  <option value="en">English</option>
                  <option value="hi">Hindi</option>
                </select>
              </div>
            </div>
            <div class="modal-footer">
              <button id="profSave" class="btn btn-success">Save</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="py-4 bg-light text-center small">
    <div class="container">Â© <span id="year"></span> Herbal Guardian</div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>

